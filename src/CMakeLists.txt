#################################################################
######### build libOrigenInterface ##############################
#################################################################

# Configure the default ORIGEN library directory
SET(ORGLIB_DIR "$ENV{DATA}/arplibs")
CONFIGURE_FILE(orglib_default_location.h.in "${CMAKE_CURRENT_SOURCE_DIR}/orglib_default_location.h" @ONLY)

INCLUDE_DIRECTORIES(
    "${CMAKE_CURRENT_SOURCE_DIR}"
    )

FILE(GLOB ORIGEN_INTERFACE_SRC "${CMAKE_CURRENT_SOURCE_DIR}/*origen*.cpp")

ADD_LIBRARY(OrigenInterface ${ORIGEN_INTERFACE_SRC})

SET_TARGET_PROPERTIES(OrigenInterface
    PROPERTIES
    INSTALL_NAME_DIR "${CMAKE_INSTALL_PREFIX}/lib"
    INSTALL_RPATH "${CMAKE_INSTALL_PREFIX}/lib"
    LINKER_LANGUAGE CXX
    CXX_STANDARD 11
    CXX_STANDARD_REQUIRED ON
    )
TARGET_LINK_LIBRARIES(OrigenInterface ${LIBS})

INSTALL(
    TARGETS OrigenInterface
    LIBRARY DESTINATION lib/cyclus
    ARCHIVE DESTINATION lib/cyclus
    COMPONENT cyborg
    )
SET(LIBS ${LIBS} OrigenInterface PARENT_SCOPE)

#################################################################

### DO NOT DELETE THIS COMMENT: INSERT_ARCHETYPES_HERE ###
USE_CYCLUS("cyborg" "origen_reactor")

INSTALL_CYCLUS_MODULE("cyborg" "" "NONE")
 
SET(TestSource ${cyborg_TEST_CC} PARENT_SCOPE)

# install header files
FILE(GLOB h_files "${CMAKE_CURRENT_SOURCE_DIR}/*.h")
INSTALL(FILES ${h_files} DESTINATION include/cyborg COMPONENT cyborg)

